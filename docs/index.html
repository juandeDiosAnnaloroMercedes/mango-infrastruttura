<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mango â€” Infrastruttura di fiducia</title>

  <style>
    :root{
      --border:#e6e6e6;
      --text:#111;
      --muted:#666;
      --bg:#fff;
      --soft:#fafafa;
      --radius:14px;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
      color:var(--text);
      background:var(--bg);
    }
    .wrap{ max-width:900px; margin:0 auto; padding:18px; }
    .card{
      border:1px solid var(--border);
      border-radius:var(--radius);
      padding:16px;
      margin:14px 0;
      background:var(--bg);
    }
    .soft{ background:var(--soft); }
    h1{ margin:8px 0 4px 0; font-size:1.6rem; }
    h2{ margin:0 0 10px 0; }
    p{ line-height:1.45; }
    .small{ font-size:.95rem; color:var(--muted); }
    .row{ display:flex; gap:14px; flex-wrap:wrap; align-items:flex-start; }
    .col{ flex:1 1 320px; }
    .btn{
      display:inline-block;
      padding:12px 14px;
      border:1px solid var(--border);
      border-radius:12px;
      text-decoration:none;
      color:var(--text);
      background:#fff;
      cursor:pointer;
      font-size:1rem;
    }
    .btn.primary{ border-color:#111; }
    .actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }
    .notice{
      padding:12px;
      border:1px dashed var(--border);
      border-radius:12px;
      color:var(--muted);
      background:#fff;
    }
    label{ display:block; margin:0 0 6px 0; font-weight:600; }
    textarea{
      width:100%;
      min-height:86px;
      padding:12px;
      border:1px solid var(--border);
      border-radius:12px;
      font-size:1rem;
    }
    .qr{
      width:160px;
      max-width:100%;
      border:1px solid var(--border);
      border-radius:12px;
      padding:10px;
      background:#fff;
    }
    .langbar{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin:10px 0 0 0;
    }
    .langbar a{
      font-size:.95rem;
      padding:8px 10px;
      border:1px solid var(--border);
      border-radius:999px;
      text-decoration:none;
      color:var(--text);
      background:#fff;
    }
    .anchor{ scroll-margin-top: 14px; }
    hr{ border:none; border-top:1px solid var(--border); margin:14px 0; }
  </style>
</head>

<body>
  <div class="wrap">

    <!-- HEADER -->
    <header class="card soft">
      <h1>Mango ğŸ¥­</h1>

      <!-- Lingue -->
      <div class="langbar">
        <a href="index.html?lang=it">IT</a>
        <a href="index.html?lang=en">EN</a>
        <a href="index.html?lang=es">ES</a>
        <a href="index.html?lang=fr">FR</a>
        <a href="index.html?lang=de">DE</a>
        <a href="index.html?lang=zh">ZH</a>
      </div>

      <p class="small" style="margin-top:10px;">
        Progetto nato il <b>02 febbraio 2026</b>. Mango non Ã¨ moneta e non Ã¨ accumulabile.
      </p>

      <div class="row" style="margin-top:10px;">
        <div class="col">
          <div class="notice">
            <div data-lang="it">QR ufficiali: Home stabile + Primo scambio. Stampali e usali nel mondo reale.</div>
            <div data-lang="en">Official QRs: Stable home + First exchange. Print and use them in the real world.</div>
            <div data-lang="es">QR oficiales: Home estable + Primer intercambio. ImprÃ­melos y Ãºsalos en el mundo real.</div>
            <div data-lang="fr">QR officiels : Accueil stable + Premier Ã©change. Imprime-les et utilise-les dans le monde rÃ©el.</div>
            <div data-lang="de">Offizielle QR-Codes: Stabile Startseite + Erster Austausch. Druck sie und nutze sie real.</div>
            <div data-lang="zh">å®˜æ–¹äºŒç»´ç ï¼šç¨³å®šä¸»é¡µ + ç¬¬ä¸€æ¬¡äº¤æ¢ã€‚æ‰“å°å¹¶åœ¨ç°å®ä¸­ä½¿ç”¨ã€‚</div>
          </div>

          <div class="actions">
            <a class="btn primary" href="#fai-mango-adesso">Fai Mango adesso</a>
            <a class="btn" href="#scrivi-una-riga">Scrivi una riga</a>
            <a class="btn" href="#cose-mango">Cosâ€™Ã¨ Mango</a>
          </div>
        </div>

        <div class="col" style="max-width:240px;">
          <div class="small" style="margin-bottom:6px;">QR Home (stabile)</div>
          <!-- Metti il tuo QR qui -->
          <img class="qr" src="assets/qr-home.png" alt="QR Mango â€” Home" />
          <div class="small" style="margin-top:8px;">
            juandediosannaloromercedes.github.io/mango-infrastruttura/
          </div>

          <hr />

          <div class="small" style="margin-bottom:6px;">QR Primo scambio</div>
          <!-- Metti il tuo QR qui -->
          <img class="qr" src="assets/qr-primo-scambio.png" alt="QR Mango â€” Primo scambio" />
        </div>
      </div>
    </header>

    <!-- SEZIONE 1 -->
    <section class="card anchor" id="fai-mango-adesso">
      <h2>Fai Mango adesso</h2>

      <div data-lang="it">
        <p>Fai uno scambio reale: un gesto, un aiuto, una cura, una presenza. Mango Ã¨ riconoscimento, non valore.</p>
        <p class="small">Poi scrivi una riga (qui sotto) come memoria del reale. Niente numeri, niente conti.</p>
      </div>
      <div data-lang="en"><p>Do a real exchange: a gesture, help, care, presence. Mango is recognition, not value.</p><p class="small">Then write one row below as memory of the real. No numbers, no accounts.</p></div>
      <div data-lang="es"><p>Haz un intercambio real: un gesto, ayuda, cuidado, presencia. Mango es reconocimiento, no valor.</p><p class="small">Luego escribe una lÃ­nea abajo como memoria de lo real. Sin nÃºmeros, sin cuentas.</p></div>
      <div data-lang="fr"><p>Fais un Ã©change rÃ©el : un geste, une aide, une attention, une prÃ©sence. Mango = reconnaissance, pas valeur.</p><p class="small">Puis Ã©cris une ligne ci-dessous. Pas de chiffres, pas de comptes.</p></div>
      <div data-lang="de"><p>Mach einen echten Austausch: eine Geste, Hilfe, FÃ¼rsorge, PrÃ¤senz. Mango ist Anerkennung, kein Wert.</p><p class="small">Dann schreib unten eine Zeile. Keine Zahlen, keine Konten.</p></div>
      <div data-lang="zh"><p>åšä¸€æ¬¡çœŸå®äº¤æ¢ï¼šä¸€ä¸ªä¸¾åŠ¨ã€å¸®åŠ©ã€ç…§æ–™ã€é™ªä¼´ã€‚Mango æ˜¯è®¤å¯ï¼Œä¸æ˜¯ä»·å€¼ã€‚</p><p class="small">ç„¶ååœ¨ä¸‹æ–¹å†™ä¸€è¡Œä½œä¸ºç°å®çš„è®°å¿†ã€‚ä¸ç”¨æ•°å­—ã€ä¸åšè´¦æˆ·ã€‚</p></div>

      <div class="actions">
        <a class="btn primary" href="#primo-scambio">Vai al primo scambio</a>
        <a class="btn" href="#scrivi-una-riga">Vai a â€œScrivi una rigaâ€</a>
      </div>
    </section>

    <!-- PRIMO SCAMBIO (stessa pagina) -->
    <section class="card anchor" id="primo-scambio">
      <div class="actions" style="margin-top:0;">
        <a class="btn" href="#top" id="backTop">â† Torna alla home</a>
      </div>

      <h2 style="margin-top:10px;">Primo scambio</h2>

      <div data-lang="it">
        <ol>
          <li>Fai un gesto reale (aiuto, cura, scambio).</li>
          <li>Scrivi una riga (nella sezione â€œScrivi una rigaâ€).</li>
          <li>Fine: Mango vive nel reale, non nel conteggio.</li>
        </ol>
        <p class="small">Suggerimento: se siete in due, scrivete una riga semplice e vera insieme.</p>
      </div>

      <div data-lang="en">
        <ol>
          <li>Do a real gesture (help, care, exchange).</li>
          <li>Write one row (in â€œWrite one rowâ€).</li>
          <li>Done: Mango lives in reality, not in counting.</li>
        </ol>
      </div>

      <div data-lang="es">
        <ol>
          <li>Haz un gesto real (ayuda, cuidado, intercambio).</li>
          <li>Escribe una lÃ­nea (en â€œEscribe una lÃ­neaâ€).</li>
          <li>Listo: Mango vive en lo real, no en contar.</li>
        </ol>
      </div>

      <div data-lang="fr">
        <ol>
          <li>Fais un geste rÃ©el (aide, soin, Ã©change).</li>
          <li>Ã‰cris une ligne (dans â€œÃ‰cris une ligneâ€).</li>
          <li>Câ€™est tout : Mango vit dans le rÃ©el, pas dans le comptage.</li>
        </ol>
      </div>

      <div data-lang="de">
        <ol>
          <li>Mach eine echte Geste (Hilfe, FÃ¼rsorge, Austausch).</li>
          <li>Schreib eine Zeile (in â€œSchreib eine Zeileâ€).</li>
          <li>Fertig: Mango lebt in der RealitÃ¤t, nicht im ZÃ¤hlen.</li>
        </ol>
      </div>

      <div data-lang="zh">
        <ol>
          <li>åšä¸€ä¸ªçœŸå®çš„ä¸¾åŠ¨ï¼ˆå¸®åŠ©ã€ç…§æ–™ã€äº¤æ¢ï¼‰ã€‚</li>
          <li>å†™ä¸€è¡Œæ–‡å­—ï¼ˆåœ¨â€œå†™ä¸€è¡Œâ€éƒ¨åˆ†ï¼‰ã€‚</li>
          <li>å®Œæˆï¼šMango æ´»åœ¨ç°å®é‡Œï¼Œä¸åœ¨è®¡æ•°é‡Œã€‚</li>
        </ol>
      </div>

      <div class="actions">
        <a class="btn primary" href="#scrivi-una-riga">Scrivi una riga adesso</a>
        <a class="btn" href="#top">â† Torna alla home</a>
      </div>
    </section>

    <!-- SEZIONE 2 -->
    <section class="card anchor" id="scrivi-una-riga">
      <div class="actions" style="margin-top:0;">
        <a class="btn" href="#top">â† Torna alla home</a>
      </div>

      <h2 style="margin-top:10px;">Scrivi una riga</h2>

      <div class="notice">
        <div data-lang="it"><b>Nota:</b> la riga resta visibile <b>solo su questo dispositivo</b>. Mango non accumula e non fa bacheche.</div>
        <div data-lang="en"><b>Note:</b> the row stays visible <b>only on this device</b>. Mango doesnâ€™t accumulate and isnâ€™t a public feed.</div>
        <div data-lang="es"><b>Nota:</b> la lÃ­nea queda visible <b>solo en este dispositivo</b>. Mango no acumula ni es un muro pÃºblico.</div>
        <div data-lang="fr"><b>Note :</b> la ligne reste visible <b>uniquement sur cet appareil</b>. Mango nâ€™accumule pas et nâ€™est pas un fil public.</div>
        <div data-lang="de"><b>Hinweis:</b> die Zeile bleibt <b>nur auf diesem GerÃ¤t</b> sichtbar. Mango sammelt nicht und ist kein Ã¶ffentlicher Feed.</div>
        <div data-lang="zh"><b>æç¤ºï¼š</b>è¿™è¡Œæ–‡å­—åªä¼šä¿å­˜åœ¨<b>æœ¬è®¾å¤‡</b>ä¸Šæ˜¾ç¤ºã€‚Mango ä¸ç´¯ç§¯ï¼Œä¹Ÿä¸æ˜¯å…¬å¼€ä¿¡æ¯æµã€‚</div>
      </div>

      <form id="mangoRowForm" style="margin-top:12px;">
        <label for="mangoRowInput">La tua riga</label>
        <textarea id="mangoRowInput" placeholder="Esempio: Oggi ho aiutato X / Oggi Y ha aiutato me."></textarea>

        <div class="actions">
          <button class="btn primary" type="submit">Salva sul dispositivo</button>
          <button class="btn" type="button" id="mangoRowClearInput">Svuota</button>
        </div>
      </form>

      <div id="mangoRowSavedBox" class="card soft" style="display:none; margin-top:14px;">
        <div class="small">Riga salvata (solo qui):</div>
        <div id="mangoRowSavedText" style="margin-top:8px; white-space:pre-wrap;"></div>
        <div class="actions">
          <button class="btn" type="button" id="mangoRowRemove">Togli</button>
        </div>
      </div>
    </section>

    <!-- SEZIONE 3 -->
    <section class="card anchor" id="cose-mango">
      <div class="actions" style="margin-top:0;">
        <a class="btn" href="#top">â† Torna alla home</a>
      </div>

      <h2 style="margin-top:10px;">Cosâ€™Ã¨ Mango</h2>

      <div data-lang="it">
        <p>Mango Ã¨ unâ€™infrastruttura di fiducia locale non monetaria, non appropriabile, progettata per evitare accumulo, speculazione e cattura istituzionale.</p>
        <p class="small">Una riga = riconoscimento di uno scambio reale. Niente numeri, niente valore, niente conti.</p>
      </div>

      <div data-lang="en">
        <p>Mango is a local trust infrastructure: non-monetary, non-appropriable, designed to prevent accumulation, speculation, and institutional capture.</p>
        <p class="small">One row = recognition of a real exchange. No numbers, no value, no accounts.</p>
      </div>

      <div data-lang="es">
        <p>Mango es una infraestructura local de confianza: no monetaria, no apropiable, diseÃ±ada para evitar acumulaciÃ³n, especulaciÃ³n y captura institucional.</p>
        <p class="small">Una lÃ­nea = reconocimiento de un intercambio real. Sin nÃºmeros, sin valor, sin cuentas.</p>
      </div>

      <div data-lang="fr">
        <p>Mango est une infrastructure locale de confiance : non monÃ©taire, non appropriable, conÃ§ue pour Ã©viter lâ€™accumulation, la spÃ©culation et la capture institutionnelle.</p>
        <p class="small">Une ligne = reconnaissance dâ€™un Ã©change rÃ©el. Pas de chiffres, pas de valeur, pas de comptes.</p>
      </div>

      <div data-lang="de">
        <p>Mango ist eine lokale Vertrauens-Infrastruktur: nicht-monetÃ¤r, nicht-aneignbar, entwickelt gegen Ansammlung, Spekulation und institutionelle Vereinnahmung.</p>
        <p class="small">Eine Zeile = Anerkennung eines realen Austauschs. Keine Zahlen, kein Wert, keine Konten.</p>
      </div>

      <div data-lang="zh">
        <p>Mango æ˜¯ä¸€ç§æœ¬åœ°ä¿¡ä»»åŸºç¡€è®¾æ–½ï¼šéè´§å¸ã€ä¸å¯å æœ‰ï¼Œæ—¨åœ¨é¿å…ç´¯ç§¯ã€æŠ•æœºä¸åˆ¶åº¦æ€§æ•è·ã€‚</p>
        <p class="small">ä¸€è¡Œ = å¯¹çœŸå®äº¤æ¢çš„è®¤å¯ã€‚ä¸ç”¨æ•°å­—ã€ä¸è®¾ä»·å€¼ã€ä¸åšè´¦æˆ·ã€‚</p>
      </div>
    </section>

    <footer class="small" style="padding:14px 0 40px 0;">
      Â© Mango â€” Juan de Dios Annaloro Mercedes (in memoria di Larimar).
    </footer>

  </div>

  <script>
    // ====== Mango: lingua + riga locale (tutto dentro) ======
    (function(){
      const SUPPORTED = ["it","en","es","fr","de","zh"];
      const DEFAULT_LANG = "it";
      const STORAGE_KEY = "mango_riga_v1";

      function getLang(){
        const p = new URLSearchParams(location.search);
        const q = (p.get("lang") || "").toLowerCase();
        return SUPPORTED.includes(q) ? q : DEFAULT_LANG;
      }

      function applyI18n(lang){
        document.querySelectorAll("[data-lang]").forEach(el=>{
          el.style.display = (el.getAttribute("data-lang") === lang) ? "" : "none";
        });
      }

      function setupLocalRow(){
        const form = document.getElementById("mangoRowForm");
        const input = document.getElementById("mangoRowInput");
        const savedBox = document.getElementById("mangoRowSavedBox");
        const savedText = document.getElementById("mangoRowSavedText");
        const btnRemove = document.getElementById("mangoRowRemove");
        const btnClear = document.getElementById("mangoRowClearInput");

        if(!form || !input || !savedBox || !savedText || !btnRemove) return;

        function render(){
          const saved = localStorage.getItem(STORAGE_KEY);
          if(saved && saved.trim()){
            savedText.textContent = saved;
            savedBox.style.display = "block";
          }else{
            savedText.textContent = "";
            savedBox.style.display = "none";
          }
        }

        form.addEventListener("submit", (e)=>{
          e.preventDefault();
          const val = (input.value || "").trim();
          if(!val) return;
          localStorage.setItem(STORAGE_KEY, val);
          render();
        });

        btnRemove.addEventListener("click", ()=>{
          localStorage.removeItem(STORAGE_KEY);
          render();
        });

        if(btnClear){
          btnClear.addEventListener("click", ()=>{
            input.value = "";
            input.focus();
          });
        }

        render();
      }

      // Init
      const lang = getLang();
      applyI18n(lang);
      setupLocalRow();

      // "top" anchor target
      document.body.setAttribute("id","top");
    })();
  </script>
</body>
</html>
