<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mango â€“ Infrastruttura di fiducia</title>
  <script src="lang.js" defer></script>

  <style>
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
      background:#fdfbf7;
      color:#222;
      padding:80px 20px 40px;
    }
    .container{max-width:900px;margin:0 auto;}
    .langbar{
      position:fixed; top:12px; left:50%;
      transform:translateX(-50%);
      display:flex; gap:10px;
      background:#fff; border:1px solid #eee;
      border-radius:14px; padding:10px 12px;
      box-shadow:0 10px 30px rgba(0,0,0,.06);
      z-index:999;
    }
    .langbar a{
      text-decoration:none; font-weight:800; font-size:13px;
      padding:6px 10px; border-radius:10px; color:#111;
    }
    .langbar a.active{background:#111;color:#fff;}
    header{ text-align:center; margin:30px auto 26px; }
    h1{ margin:0 0 10px; font-size:44px; letter-spacing:-.5px; }
    header p{ margin:0 auto; max-width:720px; font-size:18px; line-height:1.5; }
    .card{
      max-width:760px;
      margin:18px auto;
      background:#fff;
      border:1px solid #eee;
      border-radius:18px;
      padding:22px 22px;
    }
    .card h2{ margin:0 0 10px; font-size:28px; }
    .card p{ margin:0 0 14px; font-size:16px; line-height:1.6; max-width:720px; }
    .btn{
      display:inline-block;
      padding:12px 22px;
      background:#f4a825;
      color:#fff;
      text-decoration:none;
      border-radius:12px;
      font-weight:900;
    }
    .btn:hover{ background:#e69500; }
    footer{
      text-align:center;
      margin:28px 0 0;
      font-size:13px;
      opacity:.7;
    }
  </style>
</head>

<body>
  <!-- Switch 6 lingue -->
  <nav class="langbar" aria-label="Language">
    <a href="?lang=it" data-lang="it">IT</a>
    <a href="?lang=en" data-lang="en">EN</a>
    <a href="?lang=es" data-lang="es">ES</a>
    <a href="?lang=fr" data-lang="fr">FR</a>
    <a href="?lang=de" data-lang="de">DE</a>
    <a href="?lang=zh" data-lang="zh">ZH</a>
  </nav>

  <main class="container">
    <header>
      <h1 id="title">Mango ðŸ¥­</h1>
      <p id="subtitle">Unâ€™infrastruttura di fiducia locale non monetaria.<br>Una riga alla volta.</p>
    </header>

    <section class="card">
      <h2 id="start-title">Fai Mango adesso</h2>
      <p id="start-text">Inizia uno scambio reale. Nessun accumulo. Nessun valore numerico.</p>

      <!-- LINK ASSOLUTO DEFINITIVO (anti-docs.github.com) -->
      <a id="btn-start" class="btn"
         href="https://juandediosannaloromercedes.github.io/mango-infrastruttura/primo-scambio.html">
        Inizia
      </a>
    </section>

    <section class="card">
      <h2 id="write-title">Scrivi una riga</h2>
      <p id="write-text">Ogni scambio si riconosce con una riga. Senza quantitÃ . Senza equivalenze.</p>

      <!-- LINK ASSOLUTO DEFINITIVO (anti-docs.github.com) -->
      <a id="btn-write" class="btn"
         href="https://juandediosannaloromercedes.github.io/mango-infrastruttura/scrivi-una-riga.html">
        Scrivi
      </a>
    </section>

    <section class="card">
      <h2 id="what-title">Cosâ€™Ã¨ Mango</h2>
      <p id="what-text">Mango Ã¨ uno spazio di fiducia non appropriabile. Non Ã¨ denaro. Non Ã¨ accumulabile.</p>
    </section>

    <footer id="footer-text">Creato da Juan de Dios Annaloro Mercedes â€“ 02 Febbraio 2026</footer>
  </main>

  <script>
    (function(){
      // lingua
      const allowed = new Set(['it','en','es','fr','de','zh']);
      const params = new URLSearchParams(location.search);
      const lang = allowed.has(params.get('lang')) ? params.get('lang') : null;

      if(lang){
        document.querySelectorAll('.langbar a').forEach(a=>{
          if(a.dataset.lang === lang) a.classList.add('active');
        });
      }

      // aggiungi ?lang ai link assoluti del tuo sito
      if(!lang) return;

      const patch = (id) => {
        const a = document.getElementById(id);
        if(!a) return;
        const u = new URL(a.getAttribute('href'));
        u.searchParams.set('lang', lang);
        a.setAttribute('href', u.toString());
      };

      patch('btn-start');
      patch('btn-write');
    })();
  </script>
</body>
</html>
