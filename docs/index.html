<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="light" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>Mango</title>

  <style>
    :root{
      --bg:#ffffff; --fg:#111111; --muted:#6b7280; --card:#f7f7f8; --border:#e5e7eb;
      --radius:18px; --shadow:0 10px 28px rgba(0,0,0,.06); --max:960px;
      --font:-apple-system, system-ui, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{margin:0;font-family:var(--font);color:var(--fg);background:var(--bg)}
    a{color:inherit;text-decoration:none}
    header{
      position:sticky; top:0; z-index:10;
      background:rgba(255,255,255,.9);
      backdrop-filter:saturate(180%) blur(10px);
      border-bottom:1px solid var(--border);
    }
    .hwrap{
      max-width:var(--max); margin:0 auto; padding:14px 16px;
      display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;
    }
    .brand{display:flex;align-items:center;gap:10px;font-weight:900;font-size:22px;letter-spacing:-0.3px}
    .mangoBtn{
      border:1px solid var(--border); background:#fff; border-radius:999px; padding:6px 10px;
      display:inline-flex; align-items:center; gap:6px; box-shadow:0 2px 10px rgba(0,0,0,.04); cursor:pointer;
    }
    .lang{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:flex-end}
    .chip{
      border:1px solid var(--border); background:#fff; border-radius:999px; padding:10px 14px;
      font-weight:800; cursor:pointer; min-width:52px; text-align:center;
    }
    .chip[aria-current="true"]{outline:2px solid #111; outline-offset:2px}

    main{max-width:var(--max); margin:0 auto; padding:18px 16px 40px}
    .hero{margin-top:10px;color:var(--muted);line-height:1.6;font-size:16px}
    .grid{display:grid;grid-template-columns:1fr;gap:16px;margin-top:14px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:18px;box-shadow:var(--shadow)}
    .card h1{margin:0 0 10px;font-size:28px;line-height:1.15;letter-spacing:-0.6px}
    .card h2{margin:0 0 10px;font-size:22px;letter-spacing:-0.3px}
    .card p,.card li{margin:0;color:var(--fg);line-height:1.6;font-size:16px}
    .muted{color:var(--muted)}
    ul{margin:10px 0 0 18px}
    li{margin:7px 0}
    hr{border:0;border-top:1px solid var(--border);margin:14px 0}
    .spacer{height:6px}

    textarea{
      width:100%;min-height:130px;resize:vertical;border:1px solid var(--border);
      border-radius:14px;padding:14px;font-size:16px;outline:none;background:#fff;
    }
    .btnrow{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;align-items:center}
    .btn{
      border:0;background:#111;color:#fff;border-radius:14px;padding:12px 14px;font-weight:900;
      cursor:pointer;display:inline-flex;align-items:center;gap:8px;
    }
    .btn.secondary{background:#fff;color:#111;border:1px solid var(--border)}
    .btn.small{padding:10px 12px;border-radius:12px;font-weight:900}

    .navlinks{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;align-items:center}

    .list{display:flex;flex-direction:column;gap:10px;margin-top:12px}
    .lineItem{background:#fff;border:1px solid var(--border);border-radius:14px;padding:12px}
    .lineMeta{
      display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;align-items:center;margin-bottom:8px
    }
    .tag{font-size:12px;color:var(--muted);font-weight:800;letter-spacing:.2px}
    .lineText{white-space:pre-wrap;font-size:16px;line-height:1.55}
    footer{max-width:var(--max);margin:0 auto;padding:18px 16px 40px;color:var(--muted);text-align:center;font-size:13px;line-height:1.6}
  </style>
</head>

<body>
  <header id="top">
    <div class="hwrap">
      <div class="brand">
        <span>Mango</span>
        <button class="mangoBtn" id="mangoTop" title="Top">ü•≠</button>
      </div>

      <nav class="lang" aria-label="Lingue">
        <button class="chip" data-lang="it">IT</button>
        <button class="chip" data-lang="en">EN</button>
        <button class="chip" data-lang="es">ES</button>
        <button class="chip" data-lang="fr">FR</button>
        <button class="chip" data-lang="de">DE</button>
        <button class="chip" data-lang="zh">ZH</button>
      </nav>
    </div>
  </header>

  <main>
    <div class="card">
      <h1 id="t_home_title"></h1>
      <p class="hero" id="t_home_subtitle"></p>

      <div class="navlinks">
        <a class="btn secondary" href="#now">‚ö° <span id="t_btn_go_now"></span></a>
        <a class="btn secondary" href="#write">‚úçÔ∏è <span id="t_btn_go_write"></span></a>
        <a class="btn secondary" href="#what">‚ùì <span id="t_btn_go_what"></span></a>
        <a class="btn" id="link_primo" href="./primo-scambio.html">‚û°Ô∏è <span id="t_btn_primo_scambio"></span></a>
      </div>

      <p class="muted" style="margin-top:12px" id="t_home_note"></p>
    </div>

    <section class="grid">
      <article class="card" id="now">
        <h2 id="t_now_title"></h2>
        <p id="t_now_text"></p>
        <ul>
          <li id="t_now_li1"></li>
          <li id="t_now_li2"></li>
          <li id="t_now_li3"></li>
          <li id="t_now_li4"></li>
        </ul>
        <hr />
        <p class="muted" id="t_now_note"></p>

        <div class="btnrow">
          <a class="btn secondary" href="#write">‚úçÔ∏è <span id="t_btn_to_write"></span></a>
          <button class="btn secondary" type="button" id="btn_top_1">‚¨ÜÔ∏è <span id="t_btn_top"></span></button>
        </div>
      </article>

      <article class="card" id="write">
        <h2 id="t_write_title"></h2>
        <p class="muted" id="t_write_text"></p>

        <div class="spacer"></div>
        <textarea id="lineInput" placeholder=""></textarea>

        <div class="btnrow">
          <button class="btn" type="button" id="btn_send_keep">‚úÖ <span id="t_btn_send_keep"></span></button>
          <button class="btn secondary" type="button" id="btn_clear_field">üßΩ <span id="t_btn_clear_field"></span></button>
          <button class="btn secondary" type="button" id="btn_copy_line">üìã <span id="t_btn_copy"></span></button>
        </div>

        <p class="muted" style="margin-top:10px" id="t_write_hint"></p>
      </article>

      <article class="card" id="yourlines">
        <h2 id="t_yourlines_title"></h2>
        <p class="muted" id="t_yourlines_text"></p>

        <div class="btnrow">
          <button class="btn secondary" type="button" id="btn_delete_all">üóëÔ∏è <span id="t_btn_delete_all"></span></button>
        </div>

        <div class="list" id="linesList"></div>
        <p class="muted" id="t_empty" style="display:none;margin-top:10px"></p>
      </article>

      <article class="card" id="what">
        <h2 id="t_what_title"></h2>
        <p id="t_what_text1"></p>
        <ul>
          <li id="t_what_li1"></li>
          <li id="t_what_li2"></li>
          <li id="t_what_li3"></li>
          <li id="t_what_li4"></li>
        </ul>
        <hr />
        <p class="muted" id="t_what_note"></p>

        <div class="btnrow">
          <a class="btn secondary" id="link_primo2" href="./primo-scambio.html">‚û°Ô∏è <span id="t_btn_primo_scambio2"></span></a>
          <button class="btn secondary" type="button" id="btn_top_2">‚¨ÜÔ∏è <span id="t_btn_top"></span></button>
        </div>
      </article>
    </section>
  </main>

  <footer>
    <div id="t_footer1"></div>
    <div id="t_footer2"></div>
  </footer>

  <script>
    const SUPPORTED = ["it","en","es","fr","de","zh"];
    const DEFAULT_LANG = "it";
    const STORAGE_KEY = "mango_lines_v1";

    const T = {
      it:{
        home_title:"Mango",
        home_subtitle:"Infrastruttura di fiducia locale non monetaria. Qui puoi fare Mango adesso e scrivere una riga (resta solo su questo dispositivo).",
        btn_go_now:"Fai Mango adesso", btn_go_write:"Scrivi una riga", btn_go_what:"Cos‚Äô√® Mango",
        btn_primo_scambio:"Primo scambio", btn_primo_scambio2:"Apri ‚ÄúPrimo scambio‚Äù",
        home_note:"Niente numeri, prezzi, quantit√† o equivalenze. Una riga = riconoscimento scritto. Non online.",

        now_title:"Fai Mango adesso",
        now_text:"Scegli un gesto semplice e reale. Mango nasce nel concreto.",
        now_li1:"Offri aiuto, tempo, cura, presenza.",
        now_li2:"Fallo davvero (non prometterlo).",
        now_li3:"Subito dopo, scrivi una riga su ci√≤ che √® accaduto.",
        now_li4:"Se serve: nomi piccoli, iniziali o soprannomi.",
        now_note:"Mango non √® credito n√© debito: √® un riconoscimento umano scritto.",
        btn_to_write:"Vai a scrivere la riga",
        btn_top:"Torna su",

        write_title:"Scrivi la riga",
        write_text:"Una riga umana, concreta, reale.",
        write_placeholder:"Esempio: Ioana ha ascoltato Marco. (Roma, 14 feb 2026)",
        write_hint:"Premi ‚ÄúInvia (resta sul sito)‚Äù per salvare questa riga SOLO su questo dispositivo. Poi puoi copiarla o cancellarla quando vuoi.",
        btn_send_keep:"Invia (resta sul sito)",
        btn_clear_field:"Cancella campo",
        btn_copy:"Copia",
        btn_delete_all:"Elimina tutte le righe",

        yourlines_title:"Le tue righe (solo su questo dispositivo)",
        yourlines_text:"Queste righe non sono pubbliche: sono salvate nel tuo browser.",
        empty:"Nessuna riga salvata ancora.",

        what_title:"Cos‚Äô√® Mango",
        what_text1:"Mango √® un‚Äôinfrastruttura di fiducia locale non monetaria: riconosce scambi reali senza trasformarli in valore.",
        what_li1:"Una riga descrive un gesto reale. Non esiste ‚Äúsaldo‚Äù.",
        what_li2:"Non √® accumulabile nel tempo e ha una temporalit√† esplicita.",
        what_li3:"Non √® appropriabile: non deve essere possedibile o catturabile.",
        what_li4:"Se qualcuno introduce numeri o equivalenze: non √® Mango.",
        what_note:"Creato da Juan de Dios Annaloro Mercedes in memoria di Larimar. (02 febbraio 2026)",

        footer1:"Creato da Juan de Dios Annaloro Mercedes ‚Äî 02 febbraio 2026 ‚Äî In memoria di Larimar.",
        footer2:"Mango √® praticabile e trasmissibile, ma non possedibile n√© centralizzabile."
      },
      en:{
        home_title:"Mango",
        home_subtitle:"A non-monetary local trust infrastructure. You can do Mango now and write a line (stored only on this device).",
        btn_go_now:"Do Mango now", btn_go_write:"Write a line", btn_go_what:"What is Mango",
        btn_primo_scambio:"First exchange", btn_primo_scambio2:"Open ‚ÄúFirst exchange‚Äù",
        home_note:"No numbers, prices, quantities, or equivalences. One line = written recognition. Not online.",

        now_title:"Do Mango now",
        now_text:"Choose a simple, real gesture. Mango is born in the concrete.",
        now_li1:"Offer help, time, care, presence.",
        now_li2:"Do it for real (don‚Äôt just promise).",
        now_li3:"Right after, write one line about what happened.",
        now_li4:"If needed: first names, initials, nicknames.",
        now_note:"Mango is not credit or debt: it is written human recognition.",
        btn_to_write:"Go write the line",
        btn_top:"Back to top",

        write_title:"Write the line",
        write_text:"One human, concrete, real line.",
        write_placeholder:"Example: Ioana listened to Marco. (Rome, Feb 14 2026)",
        write_hint:"Press ‚ÄúSend (stays on site)‚Äù to save this line ONLY on this device. Copy or delete whenever you want.",
        btn_send_keep:"Send (stays on site)",
        btn_clear_field:"Clear field",
        btn_copy:"Copy",
        btn_delete_all:"Delete all lines",

        yourlines_title:"Your lines (only on this device)",
        yourlines_text:"These lines are not public: they are stored in your browser.",
        empty:"No saved lines yet.",

        what_title:"What is Mango",
        what_text1:"Mango is a non-monetary local trust infrastructure: it recognizes real exchanges without turning them into value.",
        what_li1:"One line describes a real gesture. There is no ‚Äúbalance‚Äù.",
        what_li2:"Not accumulable over time: it has explicit temporality.",
        what_li3:"Not ownable: it must not be capturable or centralized.",
        what_li4:"If someone introduces numbers or equivalences: it‚Äôs not Mango.",
        what_note:"Created by Juan de Dios Annaloro Mercedes in memory of Larimar. (02 Feb 2026)",

        footer1:"Created by Juan de Dios Annaloro Mercedes ‚Äî 02 Feb 2026 ‚Äî In memory of Larimar.",
        footer2:"Practicable and transmissible, but not ownable or centralizable."
      },
      es:{
        home_title:"Mango",
        home_subtitle:"Infraestructura local de confianza no monetaria. Puedes hacer Mango ahora y escribir una l√≠nea (solo en este dispositivo).",
        btn_go_now:"Haz Mango ahora", btn_go_write:"Escribe una l√≠nea", btn_go_what:"Qu√© es Mango",
        btn_primo_scambio:"Primer intercambio", btn_primo_scambio2:"Abrir ‚ÄúPrimer intercambio‚Äù",
        home_note:"Sin n√∫meros, precios, cantidades o equivalencias. Una l√≠nea = reconocimiento escrito. No en l√≠nea.",

        now_title:"Haz Mango ahora",
        now_text:"Elige un gesto simple y real. Mango nace en lo concreto.",
        now_li1:"Ofrece ayuda, tiempo, cuidado, presencia.",
        now_li2:"Hazlo de verdad (no solo lo prometas).",
        now_li3:"Justo despu√©s, escribe una l√≠nea sobre lo ocurrido.",
        now_li4:"Si hace falta: nombres, iniciales o apodos.",
        now_note:"Mango no es cr√©dito ni deuda: es reconocimiento humano escrito.",
        btn_to_write:"Ir a escribir la l√≠nea",
        btn_top:"Volver arriba",

        write_title:"Escribe la l√≠nea",
        write_text:"Una l√≠nea humana, concreta, real.",
        write_placeholder:"Ejemplo: Ioana escuch√≥ a Marco. (Roma, 14 feb 2026)",
        write_hint:"Pulsa ‚ÄúEnviar (se queda en el sitio)‚Äù para guardar SOLO en este dispositivo. Puedes copiar o borrar cuando quieras.",
        btn_send_keep:"Enviar (se queda en el sitio)",
        btn_clear_field:"Borrar campo",
        btn_copy:"Copiar",
        btn_delete_all:"Eliminar todas las l√≠neas",

        yourlines_title:"Tus l√≠neas (solo en este dispositivo)",
        yourlines_text:"Estas l√≠neas no son p√∫blicas: se guardan en tu navegador.",
        empty:"A√∫n no hay l√≠neas guardadas.",

        what_title:"Qu√© es Mango",
        what_text1:"Mango es una infraestructura local de confianza no monetaria: reconoce intercambios reales sin convertirlos en valor.",
        what_li1:"Una l√≠nea describe un gesto real. No existe ‚Äúsaldo‚Äù.",
        what_li2:"No acumulable en el tiempo: tiene temporalidad expl√≠cita.",
        what_li3:"No pose√≠ble: no debe ser capturable ni centralizable.",
        what_li4:"Si alguien introduce n√∫meros o equivalencias: no es Mango.",
        what_note:"Creado por Juan de Dios Annaloro Mercedes en memoria de Larimar. (02 febrero 2026)",

        footer1:"Creado por Juan de Dios Annaloro Mercedes ‚Äî 02 febrero 2026 ‚Äî En memoria de Larimar.",
        footer2:"Practicable y transmisible, pero no pose√≠ble ni centralizable."
      },
      fr:{
        home_title:"Mango",
        home_subtitle:"Infrastructure locale de confiance non mon√©taire. Tu peux faire Mango maintenant et √©crire une ligne (uniquement sur cet appareil).",
        btn_go_now:"Faire Mango maintenant", btn_go_write:"√âcrire une ligne", btn_go_what:"Qu‚Äôest-ce que Mango",
        btn_primo_scambio:"Premier √©change", btn_primo_scambio2:"Ouvrir ¬´ Premier √©change ¬ª",
        home_note:"Pas de chiffres, prix, quantit√©s, √©quivalences. Une ligne = reconnaissance √©crite. Pas en ligne.",

        now_title:"Faire Mango maintenant",
        now_text:"Choisis un geste simple et r√©el. Mango na√Æt dans le concret.",
        now_li1:"Fais quelque chose de concret (aide, temps, soin, pr√©sence).",
        now_li2:"Fais-le vraiment (ne promets pas seulement).",
        now_li3:"Juste apr√®s, √©cris une ligne sur ce qui s‚Äôest pass√©.",
        now_li4:"Si besoin : pr√©noms, initiales, surnoms.",
        now_note:"Mango n‚Äôest ni cr√©dit ni dette : c‚Äôest une reconnaissance humaine √©crite.",
        btn_to_write:"Aller √©crire la ligne",
        btn_top:"Haut de page",

        write_title:"√âcris la ligne",
        write_text:"Une ligne humaine, concr√®te, r√©elle.",
        write_placeholder:"Exemple : Ioana a √©cout√© Marco. (Rome, 14 f√©v 2026)",
        write_hint:"Appuie sur ¬´ Envoyer (reste sur le site) ¬ª pour enregistrer UNIQUEMENT sur cet appareil. Copier ou supprimer quand tu veux.",
        btn_send_keep:"Envoyer (reste sur le site)",
        btn_clear_field:"Effacer le champ",
        btn_copy:"Copier",
        btn_delete_all:"Supprimer toutes les lignes",

        yourlines_title:"Tes lignes (uniquement sur cet appareil)",
        yourlines_text:"Ces lignes ne sont pas publiques : elles sont stock√©es dans ton navigateur.",
        empty:"Aucune ligne enregistr√©e pour l‚Äôinstant.",

        what_title:"Qu‚Äôest-ce que Mango",
        what_text1:"Mango est une infrastructure locale de confiance non mon√©taire : elle reconna√Æt des √©changes r√©els sans les transformer en valeur.",
        what_li1:"Une ligne d√©crit un geste r√©el. Pas de ¬´ solde ¬ª.",
        what_li2:"Non accumulable dans le temps : temporalit√© explicite.",
        what_li3:"Non poss√©dable : pas de capture ni centralisation.",
        what_li4:"Si quelqu‚Äôun introduit des chiffres ou √©quivalences : ce n‚Äôest pas Mango.",
        what_note:"Cr√©√© par Juan de Dios Annaloro Mercedes ‚Äî en m√©moire de Larimar. (02 f√©vrier 2026)",

        footer1:"Cr√©√© par Juan de Dios Annaloro Mercedes ‚Äî 02 f√©vrier 2026 ‚Äî En m√©moire de Larimar.",
        footer2:"Praticable et transmissible, mais non poss√©dable ni centralisable."
      },
      de:{
        home_title:"Mango",
        home_subtitle:"Nicht-monet√§re lokale Vertrauens-Infrastruktur. Du kannst Mango jetzt machen und eine Zeile schreiben (nur auf diesem Ger√§t).",
        btn_go_now:"Mango jetzt machen", btn_go_write:"Zeile schreiben", btn_go_what:"Was ist Mango",
        btn_primo_scambio:"Erster Austausch", btn_primo_scambio2:"‚ÄûErster Austausch‚Äú √∂ffnen",
        home_note:"Keine Zahlen, Preise, Mengen oder √Ñquivalenzen. Eine Zeile = schriftliche Anerkennung. Nicht online.",

        now_title:"Mango jetzt machen",
        now_text:"W√§hle eine einfache, reale Geste. Mango entsteht im Konkreten.",
        now_li1:"Biete Hilfe, Zeit, F√ºrsorge, Pr√§senz.",
        now_li2:"Mach es wirklich (nicht nur versprechen).",
        now_li3:"Direkt danach: schreibe eine Zeile √ºber das, was passiert ist.",
        now_li4:"Falls n√∂tig: Vornamen, Initialen, Spitznamen.",
        now_note:"Mango ist weder Kredit noch Schuld: es ist schriftliche menschliche Anerkennung.",
        btn_to_write:"Zur Zeile",
        btn_top:"Nach oben",

        write_title:"Schreibe die Zeile",
        write_text:"Eine menschliche, konkrete, reale Zeile.",
        write_placeholder:"Beispiel: Ioana h√∂rte Marco zu. (Rom, 14 Feb 2026)",
        write_hint:"Klicke ‚ÄûSenden (bleibt auf der Seite)‚Äú, um NUR auf diesem Ger√§t zu speichern. Dann kopieren oder l√∂schen, wann du willst.",
        btn_send_keep:"Senden (bleibt auf der Seite)",
        btn_clear_field:"Feld l√∂schen",
        btn_copy:"Kopieren",
        btn_delete_all:"Alle Zeilen l√∂schen",

        yourlines_title:"Deine Zeilen (nur auf diesem Ger√§t)",
        yourlines_text:"Diese Zeilen sind nicht √∂ffentlich: sie werden im Browser gespeichert.",
        empty:"Noch keine gespeicherten Zeilen.",

        what_title:"Was ist Mango",
        what_text1:"Mango ist eine nicht-monet√§re lokale Vertrauens-Infrastruktur: sie erkennt reale Austausche an, ohne sie in Wert zu verwandeln.",
        what_li1:"Eine Zeile beschreibt eine reale Geste. Kein ‚ÄûSaldo‚Äú.",
        what_li2:"Nicht akkumuliert √ºber Zeit: explizite Temporalit√§t.",
        what_li3:"Nicht besitzbar: keine Vereinnahmung oder Zentralisierung.",
        what_li4:"Wenn jemand Zahlen oder √Ñquivalenzen einf√ºhrt: nicht Mango.",
        what_note:"Erstellt von Juan de Dios Annaloro Mercedes ‚Äî in Erinnerung an Larimar. (02. Feb 2026)",

        footer1:"Erstellt von Juan de Dios Annaloro Mercedes ‚Äî 02. Feb 2026 ‚Äî In Erinnerung an Larimar.",
        footer2:"Praktizierbar und √ºbertragbar, aber nicht besitzbar oder zentralisierbar."
      },
      zh:{
        home_title:"Mango",
        home_subtitle:"ÈùûË¥ßÂ∏ÅÂåñÁöÑÊú¨Âú∞‰ø°‰ªªÂü∫Á°ÄËÆæÊñΩ„ÄÇ‰Ω†ÂèØ‰ª•Áé∞Âú®ÂÅö MangoÔºåÂπ∂ÂÜô‰∏ã‰∏ÄË°åÔºà‰ªÖ‰øùÂ≠òÂú®Êú¨ËÆæÂ§áÔºâ„ÄÇ",
        btn_go_now:"Áé∞Âú®ÂÅö Mango", btn_go_write:"ÂÜô‰∏ã‰∏ÄË°å", btn_go_what:"Mango ÊòØ‰ªÄ‰πà",
        btn_primo_scambio:"Á¨¨‰∏ÄÊ¨°‰∫§Êç¢", btn_primo_scambio2:"ÊâìÂºÄ‚ÄúÁ¨¨‰∏ÄÊ¨°‰∫§Êç¢‚Äù",
        home_note:"‰∏çË¶ÅÊï∞Â≠ó„ÄÅ‰ª∑Ê†º„ÄÅÊï∞ÈáèÊàñÁ≠â‰ª∑Êç¢ÁÆó„ÄÇ‰∏ÄË°å = ‰π¶Èù¢ÊâøËÆ§„ÄÇ‰∏çÂú®Á∫ø„ÄÇ",

        now_title:"Áé∞Âú®ÂÅö Mango",
        now_text:"ÈÄâÊã©‰∏Ä‰∏™ÁÆÄÂçïËÄåÁúüÂÆûÁöÑ‰∏æÂä®„ÄÇMango ËØûÁîü‰∫éÂÖ∑‰ΩìË°åÂä®„ÄÇ",
        now_li1:"Êèê‰æõÂ∏ÆÂä©„ÄÅÊó∂Èó¥„ÄÅÁÖßÈ°æ„ÄÅÈô™‰º¥„ÄÇ",
        now_li2:"ÁúüÂÆûÂéªÂÅöÔºà‰∏çË¶ÅÂè™ÊòØÊâøËØ∫Ôºâ„ÄÇ",
        now_li3:"Á¥ßÊé•ÁùÄÂÜô‰∏ã‰∏ÄË°åÔºöÂèëÁîü‰∫Ü‰ªÄ‰πà„ÄÇ",
        now_li4:"ÈúÄË¶ÅÊó∂ÔºöÂêçÂ≠ó„ÄÅÈ¶ñÂ≠óÊØç„ÄÅÊòµÁß∞„ÄÇ",
        now_note:"Mango ‰∏çÊòØ‰ø°Áî®ÊàñÂÄ∫Âä°ÔºöÂÆÉÊòØ‰π¶Èù¢ÁöÑ‰∫∫Á±ªÊâøËÆ§„ÄÇ",
        btn_to_write:"ÂéªÂÜôËøô‰∏ÄË°å",
        btn_top:"ÂõûÂà∞È°∂ÈÉ®",

        write_title:"ÂÜô‰∏ãËøô‰∏ÄË°å",
        write_text:"‰∏ÄË°å‰∫∫ÊÄßÁöÑ„ÄÅÂÖ∑‰ΩìÁöÑ„ÄÅÁúüÂÆûÁöÑËÆ∞ÂΩï„ÄÇ",
        write_placeholder:"‰æãÔºöIoana Âê¨ Marco ËØ¥ËØù„ÄÇÔºàÁΩóÈ©¨Ôºå2026Âπ¥2Êúà14Êó•Ôºâ",
        write_hint:"ÁÇπÂáª‚ÄúÂèëÈÄÅÔºà‰øùÁïôÂú®ÁΩëÁ´ôÔºâ‚ÄùÂç≥ÂèØ‰ªÖ‰øùÂ≠òÂú®Êú¨ËÆæÂ§á„ÄÇ‰πãÂêé‰Ω†ÂèØ‰ª•ÈöèÊó∂Â§çÂà∂ÊàñÂà†Èô§„ÄÇ",
        btn_send_keep:"ÂèëÈÄÅÔºà‰øùÁïôÂú®ÁΩëÁ´ôÔºâ",
        btn_clear_field:"Ê∏ÖÁ©∫ËæìÂÖ•",
        btn_copy:"Â§çÂà∂",
        btn_delete_all:"Âà†Èô§ÊâÄÊúâËÆ∞ÂΩï",

        yourlines_title:"‰Ω†ÁöÑËÆ∞ÂΩïÔºà‰ªÖÂú®Êú¨ËÆæÂ§áÔºâ",
        yourlines_text:"Ëøô‰∫õËÆ∞ÂΩï‰∏çÂÖ¨ÂºÄÔºö‰ªÖÂ≠òÂÇ®Âú®‰Ω†ÁöÑÊµèËßàÂô®‰∏≠„ÄÇ",
        empty:"ËøòÊ≤°Êúâ‰øùÂ≠òÁöÑËÆ∞ÂΩï„ÄÇ",

        what_title:"Mango ÊòØ‰ªÄ‰πà",
        what_text1:"Mango ÊòØ‰∏ÄÁßçÈùûË¥ßÂ∏ÅÂåñÁöÑÊú¨Âú∞‰ø°‰ªªÂü∫Á°ÄËÆæÊñΩÔºöÊâøËÆ§ÁúüÂÆû‰∫§Êç¢Ôºå‰ΩÜ‰∏çÊääÂÆÉÂèòÊàê‰ª∑ÂÄº„ÄÇ",
        what_li1:"‰∏ÄË°åÊèèËø∞‰∏Ä‰∏™ÁúüÂÆû‰∏æÂä®„ÄÇÊ≤°Êúâ‚Äú‰ΩôÈ¢ù‚Äù„ÄÇ",
        what_li2:"‰∏çÂèØÈöèÊó∂Èó¥Á¥ØÁßØÔºöÂÖ∑ÊúâÊòéÁ°ÆÁöÑÊó∂Èó¥ÊÄß„ÄÇ",
        what_li3:"‰∏çÂèØË¢´Êã•ÊúâÔºö‰∏çËÉΩË¢´ÊçïËé∑Êàñ‰∏≠ÂøÉÂåñ„ÄÇ",
        what_li4:"Â¶ÇÊûúÊúâ‰∫∫ÂºïÂÖ•Êï∞Â≠óÊàñÁ≠â‰ª∑ÔºöÈÇ£Â∞±‰∏çÊòØ Mango„ÄÇ",
        what_note:"Áî± Juan de Dios Annaloro Mercedes ÂàõÂª∫Ôºå‰ª•Á∫™Âøµ Larimar„ÄÇÔºà2026Âπ¥2Êúà2Êó•Ôºâ",

        footer1:"Áî± Juan de Dios Annaloro Mercedes ÂàõÂª∫ ‚Äî 2026Âπ¥2Êúà2Êó• ‚Äî Á∫™Âøµ Larimar„ÄÇ",
        footer2:"ÂèØÂÆûË∑µ‰∏é‰º†ÈÄíÔºå‰ΩÜ‰∏çÂèØË¢´Êã•ÊúâÊàñ‰∏≠ÂøÉÂåñ„ÄÇ"
      }
    };

    function getLang(){
      const u = new URL(location.href);
      const l = (u.searchParams.get("lang") || "").toLowerCase();
      return SUPPORTED.includes(l) ? l : DEFAULT_LANG;
    }
    function setLang(l){
      const u = new URL(location.href);
      u.searchParams.set("lang", l);
      history.replaceState({}, "", u.toString());
    }
    function withLang(href){
      const l = getLang();
      // supporta anche href con hash (#) e query
      const base = new URL(href, location.href);
      base.searchParams.set("lang", l);
      return base.pathname + "?" + base.searchParams.toString() + (base.hash || "");
    }

    function apply(l){
      document.documentElement.lang = l;
      document.querySelectorAll(".chip").forEach(b=>{
        b.setAttribute("aria-current", b.dataset.lang === l ? "true" : "false");
      });
      const d = T[l] || T[DEFAULT_LANG];

      const ids = [
        "home_title","home_subtitle","btn_go_now","btn_go_write","btn_go_what","btn_primo_scambio","home_note",
        "now_title","now_text","now_li1","now_li2","now_li3","now_li4","now_note","btn_to_write","btn_top",
        "write_title","write_text","write_hint","btn_send_keep","btn_clear_field","btn_copy","btn_delete_all",
        "yourlines_title","yourlines_text","empty",
        "what_title","what_text1","what_li1","what_li2","what_li3","what_li4","what_note","btn_primo_scambio2",
        "footer1","footer2"
      ];
      ids.forEach(k=>{
        const el = document.getElementById("t_"+k);
        if(el) el.textContent = d[k] || "";
      });

      const ta = document.getElementById("lineInput");
      if(ta) ta.placeholder = d.write_placeholder || "";

      // ‚úÖ LINK sempre col lang (anche se tu cambi nome file)
      document.getElementById("link_primo").href = withLang("./primo-scambio.html");
      document.getElementById("link_primo2").href = withLang("./primo-scambio.html");
      document.title = "Mango";
    }

    function loadLines(){
      try{
        const raw = localStorage.getItem(STORAGE_KEY);
        const arr = raw ? JSON.parse(raw) : [];
        return Array.isArray(arr) ? arr : [];
      }catch(_){ return []; }
    }
    function saveLines(arr){ localStorage.setItem(STORAGE_KEY, JSON.stringify(arr)); }

    function renderLines(){
      const list = document.getElementById("linesList");
      const empty = document.getElementById("t_empty");
      const arr = loadLines();

      list.innerHTML = "";
      if(!arr.length){ empty.style.display="block"; return; }
      empty.style.display="none";

      arr.forEach((item, idx)=>{
        const box = document.createElement("div");
        box.className = "lineItem";

        const meta = document.createElement("div");
        meta.className = "lineMeta";

        const tag = document.createElement("div");
        tag.className = "tag";
        const dt = item && item.ts ? new Date(item.ts) : new Date();
        tag.textContent = dt.toLocaleString();

        const actions = document.createElement("div");
        actions.className = "btnrow";
        actions.style.margin="0";
        actions.style.gap="8px";

        const bCopy = document.createElement("button");
        bCopy.className="btn secondary small";
        bCopy.type="button";
        bCopy.textContent="üìã";
        bCopy.title="Copy";
        bCopy.addEventListener("click", async ()=>{
          const text = (item && item.text) ? item.text : "";
          if(!text) return;
          try{ await navigator.clipboard.writeText(text); }
          catch(_){
            const ta = document.getElementById("lineInput");
            if(ta){
              ta.value=text; ta.focus(); ta.select();
              try{ document.execCommand("copy"); }catch(__){}
            }
          }
        });

        const bDel = document.createElement("button");
        bDel.className="btn secondary small";
        bDel.type="button";
        bDel.textContent="üóëÔ∏è";
        bDel.title="Delete";
        bDel.addEventListener("click", ()=>{
          const arr2 = loadLines();
          arr2.splice(idx, 1);
          saveLines(arr2);
          renderLines();
        });

        actions.appendChild(bCopy);
        actions.appendChild(bDel);
        meta.appendChild(tag);
        meta.appendChild(actions);

        const text = document.createElement("div");
        text.className="lineText";
        text.textContent = (item && item.text) ? item.text : "";

        box.appendChild(meta);
        box.appendChild(text);
        list.appendChild(box);
      });
    }

    function goTop(){
      try{ window.scrollTo({top:0,left:0,behavior:"smooth"}); }
      catch(_){ window.scrollTo(0,0); }
    }

    (function init(){
      // ‚úÖ bottoni lingua
      document.querySelectorAll(".chip").forEach(b=>{
        b.addEventListener("click", ()=>{
          const l = b.dataset.lang;
          setLang(l);
          apply(l);
        });
      });

      // top
      document.getElementById("mangoTop")?.addEventListener("click", goTop);
      document.getElementById("btn_top_1")?.addEventListener("click", goTop);
      document.getElementById("btn_top_2")?.addEventListener("click", goTop);

      // ‚úÖ invia (resta qui)
      document.getElementById("btn_send_keep")?.addEventListener("click", ()=>{
        const ta = document.getElementById("lineInput");
        const text = (ta?.value || "").trim();
        if(!text) return;
        const arr = loadLines();
        arr.unshift({ text, ts: Date.now() });
        saveLines(arr);
        renderLines();
        if(ta) ta.value = "";
        document.getElementById("yourlines")?.scrollIntoView({behavior:"smooth", block:"start"});
      });

      document.getElementById("btn_clear_field")?.addEventListener("click", ()=>{
        const ta = document.getElementById("lineInput");
        if(ta) ta.value = "";
      });

      document.getElementById("btn_copy_line")?.addEventListener("click", async ()=>{
        const ta = document.getElementById("lineInput");
        const text = (ta?.value || "").trim();
        if(!text) return;
        try{ await navigator.clipboard.writeText(text); }
        catch(_){
          if(ta){
            ta.focus(); ta.select();
            try{ document.execCommand("copy"); }catch(__){}
          }
        }
      });

      document.getElementById("btn_delete_all")?.addEventListener("click", ()=>{
        saveLines([]);
        renderLines();
      });

      const l = getLang();
      apply(l);
      renderLines();
    })();
  </script>
</body>
</html>
